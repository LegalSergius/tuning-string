<!DOCTYPE html>
<html>
    <head>
        <title>
            Расчёт давления в НКТ
        </title>
        <meta charset="utf-8">
        <link 
            rel="stylesheet" 
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" 
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
            crossorigin="anonymous">
        <link
            rel="stylesheet"
            href="./estimate.css">
        <script 
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
            crossorigin="anonymous"
            defer></script>
        <script 
            src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" 
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" 
            crossorigin="anonymous"
            defer>
        </script>
        <script 
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" 
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" 
            crossorigin="anonymous">
        </script>
        <script 
            src="https://cdn.jsdelivr.net/npm/chart.js"
            async></script>
        <script
            src="./estimate.js"
            async>
        </script>
    </head>
    <body>
        <div class="border border-danger container bg-light rounded w-75">
            <h1>
                Расчёт давления фонтанирования в колонке НКТ
            </h1>
            <div class="border border-warning mt-5">
                <h4>
                    Заполните следующие входные данные (или используйте данные по умолчанию):
                </h4>
                <form onsubmit="return false;">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td>
                                    Глубина скважины (футы):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number" 
                                        name="depth"
                                        value="9700"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Внутренний диаметр НКТ (дюймы):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="tubing-inner-diameter"
                                        value="1.995"
                                        step="0.001"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Плотность нефти по API (°API):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="oil-gravity"
                                        value="40"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Вязкость нефти (сП):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm"
                                        type="number"  
                                        name="oil-viscosity"
                                        value="5"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Газожидкостное отношение (куб.фунт/баррель нефти):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="gas-liquid-ratio"
                                        value="75"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Относительная плотность газа (по отношению к воздуху):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm"
                                        type="number"  
                                        name="gas-specific-gravity"
                                        value="0.7"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Давление в верхней части НКТ (фунт/кв.дюйм абсолют.) :
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="flowing-tubing-head-pressure"
                                        value="200"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Температура в верхней части НКТ (°F):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm"
                                        type="number"  
                                        name="flowing-tubing-head-temperature"
                                        value="80"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Температура в забое НКТ (°F):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="flowing-temperature-at-shoe"
                                        value="180"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Дебит жидкости (баррель/день):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="liquid-production-rate"
                                        value="758"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Водонасыщенность (%):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="water-cut"
                                        value="10"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Межфазное напряжение (дин/см):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="interfacial-tension"
                                        value="30"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Плотность воды (относительно воды):
                                </td>
                                <td>
                                    <input
                                        class="form-control form-control-sm" 
                                        type="number"  
                                        name="water-special-gravity"
                                        value="1.05"
                                        step="0.01"
                                        required>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="text-center">
                        <button
                            class="btn btn-primary w-25"
                            type="submit"
                            onclick="estimate()">
                            Рассчитать
                        </button>
                    </div>
                </form>
            </div>
            <div 
                id="resultContainer" 
                class="border border-primary d-none">>
                <div>
                    <h4>
                        Расчётные данные:
                    </h4>
                    <table
                        id="resultTable" 
                        class="table">
                            <tr class="text-center">
                                <th colspan="2">
                                    Глубина:
                                </th>
                                <th colspan="2">
                                    Давление:
                                </th>
                            </tr>
                            <tr class="text-center">
                                <th>
                                    Футы
                                </th>
                                <th>
                                    Метры
                                </th>
                                <th>
                                    Фунт на кв.дюйм
                                </th>
                                <th>
                                    мегаПаскали
                                </th>
                            </tr>
                    </table>
                </div>
                <div id="сcontainer">
                    <div class="row">
                        <div class="col">
                            <h4 class="text-center">
                                График отношения давления к глубине (английская система)
                            </h4>
                            <canvas id="englishChart">
                            </canvas>
                        </div>
                        <div class="col">
                            <h4 class="text-center">
                                График отношения давления к глубине (СИ)
                            </h4>
                            <canvas id="siChart">
                            </canvas>
                        </div>
                    </div>
                </div>  
            </div>
        </div>
    </body>
</html>